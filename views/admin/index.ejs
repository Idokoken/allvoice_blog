<div class="container-fluid adminpage mt-3 p-4">
  <h2 class="text-bold">Admin Dashboard</h2>
  <% if (messages) { %> <%- messages() %> <% } %>
  <div class=" my-3 bg-secondary">
    <div class="add">
      <a href="/post/create" class="btn btn-primary m-2">Add Post</a>
    </div>
    <div class="add">
      <a href="/category/create" class="btn btn-primary m-2">Add Category</a>
    </div>
  </div>
  <h3 class="text-primary mt-4 mb-2">News Categories</h3>
  <table class="table table-dark table-striped">
    <thead>
      <tr>
        <th scope="col">Category</th>
        <th scope="col">Edit</th>
        <th scope="col">Delete</th>
        <th scope="col">Date</th>
      </tr>
    </thead>
    <tbody>
      <% for( let i = 0; i <category.length; i++ ) { %>
      <tr>
        <td scope="row"><%=category[i].name %></td>
        
        <td>
          <a class="btn btn-secondary" href="/category/edit/<%=category[i]._id %>"
            ><i class="fa-regular fa-pen-to-square"></i
          ></a>
        </td>
        <td>
          <a class="btn btn-danger" href="/category/delete/<%=category[i]._id %>"
            ><i class="fa-solid fa-trash-can"></i
          ></a>
        </td>
        <td><%=moment(category[i].createdAt).format('DD MMM YY')%></td>
      </tr>
      <% } %>
    </tbody>
  </table>
  <h3 class="text-primary mt-4 mb-2">News Posts</h3>
  <table class="table table-dark table-striped post">
    <thead>
      <tr>
        <th scope="col">Cover</th>
        <th scope="col" colspan="2">Title</th>
        <th scope="col">Edit</th>
        <th scope="col">Delete</th>
        <th scope="col">Date</th>
      </tr>
    </thead>
    <tbody>
      <% for( let i = 0; i < posts.length; i++ ) { %>
      <tr>
        <th scope="row"><img src="<%= posts[i].cover %>" alt="cover"></th>
        <td colspan="2"><%= posts[i].title %></td>
        <td>
          <a class="btn btn-secondary" href="/post/update/<%= posts[i]._id %>"
            ><i class="fa-regular fa-pen-to-square"></i
          ></a>
        </td>
        <td>
          <a class="btn btn-danger" href="/post/delete/<%= posts[i]._id %>"
            ><i class="fa-solid fa-trash-can"></i
          ></a>
        </td>
        <td ><%=moment(posts[i].createdAt).format('DD MMM YY')%></td>
      </tr>
      <% } %>
    </tbody>
  </table>
  <nav aria-label="..." class="mt-5">
    <ul class="pagination">
      <li class="page-item">
        <% if (currentPage != 1) { %>
        <a href="/admin?page=1" class="page-link">First</a>
        <% } %>
      </li>
      <li class="page-item">
        <% if (currentPage > 1) { %>
        <a href="/admin?page=<%= currentPage - 1 %>" class="page-link"
          >Previous</a
        >
        <% } %>
      </li>
      <li class="page-item">
        <span class="page-link"
          >Page <%= currentPage %> of <%= totalPages %></span
        >
      </li>
      <li class="page-item">
        <% if (currentPage < totalPages) { %>
        <a href="/admin?page=<%= currentPage + 1 %>" class="page-link">Next</a>
        <% } %>
      </li>
    </ul>
  </nav>
</div>
